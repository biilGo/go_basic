# 用Gob传输数据
gob是go自己的以二进制形式序列化和反序列化程序数据的格式,可以在`encoding`包中找到.这种格式的数据简称为gob(即go binary的缩写)

gob通常用于远程方式调用参数和结果的传输,以及应用程序和机器之间的数据传输.它和json或xml有什么不同?
gob特定地用于纯go的环境中,两个用go写的服务之间的通信,这样的话服务可以被实现地更加高效和优化.gob不是可外部定义,语言无关的编码方式,因此它的首选格式是二进制,而不是像json或xml那样的文本格式.gob并不是一种不同于go的语言,而是在编码和解码过程中用到了go的反射.

gob文件或流是完全自描述的,里面包含的所有类型都有一个对应的描述,并且总是可以用go解码,而不需要了解文件的内容.

只有可导出的字段会被编码,零值会被忽略,在解码结构体的时候,只有同时匹配名称和可兼容类型的字段才会被解码.当源数据类型增加新字段后,gob解码客户端仍然可以以这种方式正常工作,解码客户端会继续识别以前存在的字段,并且还提供了很大的灵活性,比如在发送者看来,证书被编码成没有固定长度的可变长度,而忽略具体的go类型

假如在发送者这边又一个结构体T
```
type T struct { X, Y, Z int }
var t = T{X: 7, Y: 0, Z: 8}
```

而在接收者这边可以用一个结构体U类型的变量u来接收这个值
```
type U struct { X, Y *int8 }
var u U
```

在接收者中,X的值是7,Y的值是0

和json的使用方式一样,gob使用通用的`io.Writer`接口通过`NewEncoder()`函数创建`Encoder`对象并调用`Encode()`;相反的过程使用通用的`io.Reader`接口,通过`New Decoder()`函数创建`Decoder`对象并调用`Decode()`